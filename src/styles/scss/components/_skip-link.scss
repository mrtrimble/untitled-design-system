@use 'sass:meta';
@use 'sass:map';
@use '../tokens/tokens';

$TOKENS: meta.module-variables('tokens');

@layer components {
  .skip-link {
    --_background-color: var(--skip-link-background-color, canvasText);
    --_padding: var(--skip-link-padding, #{map.get($TOKENS, skip-link-padding)});
    --_transition: var(--skip-link-transition, #{map.get($TOKENS, skip-link-transition)});

    @layer rules {
      position: absolute;
      inset-inline-start: 0;
      inset-block-start: 0;
      padding: var(--spacer-xs);
      background: var(--_background-color);
      transform: translateY(calc(-100% - 5px));
      @media (prefers-reduced-motion: no-preference) {
        transition: 0.2s ease;
      }
    }

    @layer states {
      &:has(a:focus) {
        transform: translateY(0);
      }
      > a:focus {
        --body-link-color: canvas
      }
    }
  }
}
