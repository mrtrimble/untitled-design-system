@use 'sass:map';
@use 'sass:meta';

$DIMENTIONS_CONFIG: (
  AXIS: (
    'height',
    'width',
  ),
  UNITS: (
    'height': (
      'h': '%',
      'vh': 'vh',
    ),
    'width': (
      'w': '%',
      'vw': 'vw',
    ),
  ),
  STEP: 10,
) !default;

@layer utilities {
  @each $dimension in map.get($DIMENTIONS_CONFIG, AXIS) {
    @each $prefix, $unit in map.get(map.get($DIMENTIONS_CONFIG, UNITS), $dimension) {
      @for $i from 1 through map.get($DIMENTIONS_CONFIG, STEP) {
        .#{$prefix}-#{$i * map.get($DIMENTIONS_CONFIG, STEP)} {
          #{$dimension}: #{$i * map.get($DIMENTIONS_CONFIG, STEP)}#{$unit};
        }
      }
    }
  }

  .w-fit-content {
    width: fit-content;
  }
}
