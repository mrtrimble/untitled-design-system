@use 'sass:map';
@use 'sass:meta';

$DIMENSIONS: ('height', 'width') !default;

$DIMENSION_INFO: (
  'height': (
    'h': '%',
    'vh': 'vh',
  ),
  'width': (
    'w': '%',
    'vw': 'vw',
  ),
) !default;

$LABELS: (
  'percentage': '%',
  'view-width': 'vw',
  'view-height': 'vh',
) !default;

$STEP: 10 !default;

@layer theme {
  :root {
    @each $label, $unit in $LABELS {
      @for $i from 1 through $STEP {
        --#{$label}-#{$i * $STEP}: #{$i * $STEP}#{$unit};
      }
    }
  }
}

@layer utilities {
  @each $dimension in $DIMENSIONS {
    @each $prefix, $unit in map.get($DIMENSION_INFO, $dimension) {
      @for $i from 1 through $STEP {
        .#{$prefix}-#{$i * $STEP} {
          #{$dimension}: #{$i * $STEP}#{$unit};
        }
      }
    }
  }

  .w-fit-content {
    width: fit-content;
  }
}
